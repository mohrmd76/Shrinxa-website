<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<title>Shrinxa â€“ Premium Packaging Solutions</title>
<meta content="width=device-width, initial-scale=1" name="viewport"/><meta content="Shrinxa is a GTA-based supplier of stretch wrap, pre-stretch film, and packaging tape with free delivery over $300 and wholesale pricing for warehouses and 3PLs." name="description"/>
<style>
    :root {
      --bg: #050914;
      --bg-alt: #0b1224;
      --accent: #1ea6ff;
      --accent-soft: rgba(30,166,255,0.12);
      --accent-strong: #0b84d1;
      --text-main: #f5f7fb;
      --text-muted: #b6bfd8;
      --card-bg: #111729;
      --border-subtle: #20273b;
      --danger: #ff4e6a;
      --success: #4cd964;
    }
    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #16345e 0, #050914 55%);
      color: var(--text-main);
      line-height: 1.5;
    }
    a { color: inherit; text-decoration: none; }
    img { max-width: 100%; display: block; }

    header {
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: blur(18px);
      background: linear-gradient(90deg, rgba(5,9,20,0.96), rgba(8,16,40,0.96));
      border-bottom: 1px solid rgba(46,56,86,0.8);
    }
    .nav-inner {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0.75rem 1.25rem;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1.25rem;
    }
    .nav-left {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    .nav-logo {
      width: 44px;
      height: 44px;
      border-radius: 999px;
      overflow: hidden;
      box-shadow: 0 0 0 2px rgba(30,166,255,0.35);
      background: #ffffff;
      padding: 4px;
    }
    .nav-logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }
    .nav-brand-text {
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
    }
    .nav-brand-text strong {
      letter-spacing: 0.14em;
      font-size: 0.9rem;
    }
    .nav-brand-text span {
      font-size: 0.75rem;
      color: var(--text-muted);
    }
    .nav-links {
      display: flex;
      gap: 1.25rem;
      font-size: 0.9rem;
      color: var(--text-muted);
      align-items: center;
    }
    .nav-links a {
      position: relative;
      padding-bottom: 0.15rem;
    }
    .nav-links a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: 0;
      width: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--accent), #47e7ff);
      border-radius: 999px;
      transition: width 0.2s ease-out;
    }
    .nav-links a:hover::after {
      width: 100%;
    }
    .cart-chip {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.35rem 0.9rem;
      border-radius: 999px;
      background: rgba(12,25,52,0.95);
      border: 1px solid rgba(71,143,255,0.7);
      box-shadow: 0 0 0 1px rgba(16,85,204,0.4);
      font-size: 0.8rem;
      cursor: pointer;
      white-space: nowrap;
    }
    .cart-chip span.badge {
      min-width: 20px;
      height: 20px;
      border-radius: 999px;
      background: var(--accent);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 600;
      color: #001225;
    }

    main {
      max-width: 1200px;
      margin: 0 auto;
      padding: 1.75rem 1.25rem 3.5rem;
    }

    .hero {
      display: grid;
      grid-template-columns: minmax(0, 1.5fr) minmax(0, 1.1fr);
      gap: 2.5rem;
      align-items: center;
      padding: 1.5rem 1.5rem 2.25rem;
      margin-bottom: 2.3rem;
      border-radius: 1.5rem;
      background: radial-gradient(circle at 0 0, rgba(82,180,255,0.16), transparent 60%),
                  radial-gradient(circle at 100% 100%, rgba(111,66,193,0.25), transparent 55%),
                  linear-gradient(135deg, #050814, #050814);
      border: 1px solid rgba(72,92,140,0.65);
      box-shadow:
        0 28px 80px rgba(0,0,0,0.7),
        0 0 0 1px rgba(103,135,255,0.25);
    }
    .hero-kicker {
      font-size: 0.8rem;
      letter-spacing: 0.18em;
      text-transform: uppercase;
      color: var(--accent);
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
    }
    .hero-kicker::before {
      content: "";
      width: 18px;
      height: 1px;
      background: linear-gradient(90deg, rgba(71,143,255,0), rgba(71,143,255,1));
      border-radius: 999px;
    }
    .hero h1 {
      font-size: clamp(2.3rem, 4vw, 2.9rem);
      margin: 0.4rem 0 0.8rem;
      letter-spacing: 0.03em;
    }
    .hero h1 span.accent {
      background: linear-gradient(90deg, #39c9ff, #e1f5ff);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .hero p.lede {
      margin: 0;
      color: var(--text-muted);
      max-width: 32rem;
      font-size: 0.98rem;
    }
    .hero-cta {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      margin-top: 1.4rem;
      align-items: center;
    }
    .btn-primary,
    .btn-ghost {
      border-radius: 999px;
      padding: 0.7rem 1.35rem;
      font-size: 0.9rem;
      border: none;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.45rem;
      font-weight: 500;
    }
    .btn-primary {
      background: linear-gradient(135deg, var(--accent), var(--accent-strong));
      color: #001225;
      box-shadow: 0 14px 35px rgba(22,128,219,0.6);
    }
    .btn-primary:hover { filter: brightness(1.07); }
    .btn-ghost {
      background: transparent;
      color: var(--text-muted);
      border: 1px solid rgba(88,115,178,0.8);
    }

    .hero-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 1.1rem;
      margin-top: 1.3rem;
      font-size: 0.78rem;
      color: var(--text-muted);
    }
    .hero-meta span {
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
    }
    .hero-meta span::before {
      content: "â€¢";
      color: var(--accent);
    }

    .hero-visual {
      justify-self: center;
      position: relative;
    }
    .hero-orbit {
      width: 260px;
      height: 260px;
      border-radius: 999px;
      background: #ffffff;
      box-shadow:
        0 0 0 1px rgba(117,160,255,0.4),
        0 26px 70px rgba(0, 0, 0, 0.85);
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }
    .hero-orbit img {
      width: 85%;
      height: 85%;
      object-fit: contain;
      filter: drop-shadow(0 10px 25px rgba(0,0,0,0.9));
    }
    .hero-orbit::after {
      content: "";
      position: absolute;
      inset: 15%;
      border-radius: inherit;
      border: 1px dashed rgba(209,233,255,0.18);
    }
    .hero-badge {
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      padding: 0.4rem 0.9rem;
      border-radius: 999px;
      background: rgba(5,9,20,0.96);
      border: 1px solid rgba(111,178,255,0.7);
      font-size: 0.72rem;
      color: var(--text-muted);
      display: inline-flex;
      align-items: center;
      gap: 0.35rem;
      white-space: nowrap;
    }
    .hero-badge span.dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: var(--success);
      box-shadow: 0 0 0 4px rgba(76,217,100,0.25);
    }

    .factory-hero {
      display: grid;
      grid-template-columns: minmax(0, 1.6fr) minmax(0, 1.2fr);
      gap: 1.7rem;
      margin-bottom: 2.4rem;
      align-items: center;
    }
    .factory-image-wrap {
      border-radius: 1.25rem;
      overflow: hidden;
      border: 1px solid rgba(74,108,180,0.95);
      box-shadow: 0 26px 70px rgba(0,0,0,0.9);
    }
    .factory-image-wrap img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .factory-copy h2 {
      margin: 0 0 0.4rem;
      font-size: 1.45rem;
    }
    .factory-copy p {
      margin: 0.25rem 0;
      color: var(--text-muted);
      font-size: 0.9rem;
    }
    .factory-points {
      margin-top: 0.7rem;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
      gap: 0.6rem;
      font-size: 0.82rem;
      color: var(--text-muted);
    }
    .factory-points div {
      padding: 0.35rem 0.6rem;
      border-radius: 0.7rem;
      background: rgba(8,16,40,0.98);
      border: 1px solid rgba(54,82,150,0.9);
    }

    section { margin-bottom: 2.75rem; }
    section h2 {
      font-size: 1.6rem;
      margin-bottom: 0.4rem;
    }
    section p.section-lede {
      margin-top: 0.1rem;
      color: var(--text-muted);
      font-size: 0.9rem;
      max-width: 38rem;
    }

    .filters-row {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin: 1.25rem 0 1.6rem;
    }
    .pill {
      border-radius: 999px;
      border: 1px solid rgba(92,117,170,0.9);
      padding: 0.35rem 0.95rem;
      font-size: 0.8rem;
      color: var(--text-muted);
      background: rgba(10,17,39,0.9);
      cursor: pointer;
    }
    .pill.active {
      background: var(--accent-soft);
      color: var(--accent);
      border-color: rgba(87,186,255,0.95);
    }

    .products-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 1.4rem;
    }
    .product-card {
      border-radius: 1rem;
      background: radial-gradient(circle at 0 0, rgba(74,140,232,0.18), transparent 55%),
                  var(--card-bg);
      padding: 1rem;
      border: 1px solid rgba(37,51,86,0.95);
      box-shadow: 0 16px 38px rgba(0,0,0,0.7);
      display: flex;
      flex-direction: column;
      gap: 0.6rem;
    }
    .prod-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 0.75rem;
    }
    .prod-name { font-weight: 600; font-size: 1rem; }
    .prod-category {
      font-size: 0.75rem;
      padding: 0.1rem 0.55rem;
      border-radius: 999px;
      background: rgba(13,25,54,0.9);
      border: 1px solid rgba(108,141,208,0.9);
      color: var(--text-muted);
      white-space: nowrap;
    }
    .prod-image-wrap {
      margin-top: 0.25rem;
      background: radial-gradient(circle at 50% 0, rgba(180,230,255,0.18), transparent 65%);
      border-radius: 0.8rem;
      border: 1px solid rgba(40,60,110,0.9);
      padding: 0.45rem;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 130px;
    }
    .prod-image-wrap img {
      max-height: 110px;
      object-fit: contain;
    }
    .prod-spec { font-size: 0.8rem; color: var(--text-muted); }
    .prod-desc {
      font-size: 0.82rem;
      color: var(--text-muted);
      margin-top: 0.1rem;
    }
    .prod-features {
      margin: 0.2rem 0 0;
      padding-left: 1.1rem;
      font-size: 0.8rem;
      color: var(--text-muted);
    }
    .prod-features li {
      margin-bottom: 0.15rem;
    }
    .prod-prices {
      display: flex;
      flex-wrap: wrap;
      gap: 0.75rem;
      font-size: 0.82rem;
      margin-top: 0.3rem;
    }
    .price-chip {
      border-radius: 999px;
      padding: 0.25rem 0.65rem;
      background: rgba(11,21,46,0.9);
      border: 1px solid rgba(78,109,180,0.95);
    }
    .price-chip strong { margin-left: 0.2rem; }
    .prod-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.75rem;
      font-size: 0.78rem;
      color: var(--text-muted);
    }
    .prod-actions {
      display: flex;
      gap: 0.5rem;
      margin-top: 0.5rem;
      align-items: center;
    }
    .qty-input {
      width: 70px;
      padding: 0.35rem 0.35rem;
      border-radius: 0.45rem;
      border: 1px solid rgba(87,116,178,0.9);
      background: rgba(5,10,26,0.95);
      color: var(--text-main);
      font-size: 0.8rem;
    }
    .qty-input:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(61,164,255,0.7);
    }
    .btn-add {
      flex: 1;
      border-radius: 0.55rem;
      border: none;
      background: linear-gradient(135deg, var(--accent), var(--accent-strong));
      color: #001225;
      padding: 0.45rem 0.8rem;
      font-size: 0.85rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.4rem;
      font-weight: 600;
    }
    .btn-add:hover { filter: brightness(1.05); }

    .about {
      display: grid;
      grid-template-columns: minmax(0, 2fr) minmax(0, 1.3fr);
      gap: 2rem;
      align-items: center;
      padding: 1.5rem;
      border-radius: 1.25rem;
      background: linear-gradient(130deg, rgba(17,33,70,0.98), #050814);
      border: 1px solid rgba(69,101,177,0.9);
      box-shadow: 0 24px 60px rgba(0,0,0,0.85);
    }
    .about p {
      font-size: 0.9rem;
      color: var(--text-muted);
    }
    .about-list {
      margin-top: 0.6rem;
      padding-left: 1.1rem;
      font-size: 0.84rem;
      color: var(--text-muted);
    }
    .about-list li { margin-bottom: 0.2rem; }

    .why-strip {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1rem;
      margin-top: 1.1rem;
    }
    .why-card {
      padding: 0.8rem 0.9rem;
      border-radius: 0.9rem;
      background: rgba(8,16,40,0.97);
      border: 1px solid rgba(56,84,152,0.95);
      font-size: 0.82rem;
      color: var(--text-muted);
    }
    .why-card h3 {
      font-size: 0.9rem;
      margin: 0 0 0.25rem;
    }

    .delivery {
      padding: 1.5rem 1.3rem;
      border-radius: 1.2rem;
      background: radial-gradient(circle at 0 0, rgba(64,148,255,0.18), transparent 60%),
                  rgba(8,16,40,0.97);
      border: 1px solid rgba(63,95,170,0.95);
      box-shadow: 0 22px 60px rgba(0,0,0,0.85);
    }
    .delivery h2 {
      margin-top: 0;
      margin-bottom: 0.4rem;
    }
    .delivery-body {
      color: var(--text-muted);
      font-size: 0.9rem;
      margin-bottom: 0.75rem;
    }
    .delivery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 0.5rem;
      font-size: 0.85rem;
    }
    .delivery-pill {
      padding: 0.35rem 0.7rem;
      border-radius: 999px;
      background: rgba(5,12,32,0.98);
      border: 1px solid rgba(74,110,187,0.95);
      color: var(--text-muted);
    }
    .delivery-extra {
      margin-top: 0.9rem;
      font-size: 0.86rem;
      color: var(--text-muted);
    }
    .delivery-extra strong {
      color: var(--accent);
    }

    .contact-layout {
      display: grid;
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.4fr);
      gap: 1.6rem;
      align-items: flex-start;
    }
    .contact-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.2rem;
    }
    .contact-card {
      border-radius: 0.9rem;
      padding: 0.9rem 1rem;
      background: rgba(10,17,39,0.97);
      border: 1px solid rgba(63,87,145,0.95);
      font-size: 0.86rem;
      color: var(--text-muted);
    }
    .contact-card strong {
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--text-main);
      display: block;
      margin-bottom: 0.3rem;
    }
    .contact-card a { color: var(--accent); }

    .quote-card {
      border-radius: 1rem;
      padding: 1rem 1.2rem 1.1rem;
      background: rgba(8,16,40,0.97);
      border: 1px solid rgba(74,110,187,0.95);
      box-shadow: 0 18px 50px rgba(0,0,0,0.85);
      font-size: 0.86rem;
    }
    .quote-card h3 {
      margin: 0 0 0.3rem;
      font-size: 1.1rem;
    }
    .quote-card p {
      margin: 0 0 0.6rem;
      color: var(--text-muted);
    }
    .quote-form {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.6rem 0.9rem;
      margin-top: 0.4rem;
      font-size: 0.84rem;
    }
    .quote-form .full {
      grid-column: 1 / -1;
    }
    .quote-label {
      display: block;
      margin-bottom: 0.18rem;
      color: var(--text-muted);
    }
    .quote-input,
    .quote-select,
    .quote-textarea {
      width: 100%;
      border-radius: 0.5rem;
      border: 1px solid rgba(78,108,176,0.95);
      background: rgba(5,10,26,0.96);
      color: var(--text-main);
      padding: 0.4rem 0.55rem;
      font-size: 0.86rem;
    }
    .quote-textarea {
      min-height: 80px;
      resize: vertical;
    }
    .quote-input:focus,
    .quote-select:focus,
    .quote-textarea:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(61,164,255,0.7);
    }
    .quote-helper {
      margin-top: 0.55rem;
      font-size: 0.8rem;
      color: var(--text-muted);
    }
    .quote-helper a {
      color: var(--accent);
      text-decoration: none;
    }
    .quote-helper a:hover {
      text-decoration: underline;
    }
    .quote-submit {
      margin-top: 0.6rem;
      border-radius: 999px;
      border: none;
      padding: 0.55rem 1.2rem;
      font-size: 0.9rem;
      font-weight: 600;
      background: linear-gradient(130deg, var(--accent), var(--accent-strong));
      color: #001225;
      cursor: pointer;
    }

    footer {
      border-top: 1px solid rgba(40,57,102,0.9);
      padding: 1rem 1.25rem 1.5rem;
      font-size: 0.8rem;
      color: var(--text-muted);
      text-align: center;
      background: #050814;
    }

    .cart-panel {
      position: fixed;
      right: 0;
      top: 0;
      bottom: 0;
      width: min(360px, 100%);
      background: #050814;
      border-left: 1px solid rgba(63,87,145,0.95);
      box-shadow: -24px 0 80px rgba(0,0,0,0.9);
      transform: translateX(100%);
      transition: transform 0.25s ease-out;
      z-index: 40;
      display: flex;
      flex-direction: column;
    }
    .cart-panel.open { transform: translateX(0); }
    .cart-header {
      padding: 0.9rem 1rem;
      border-bottom: 1px solid rgba(45,61,102,0.95);
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 0.75rem;
    }
    .cart-close {
      border-radius: 999px;
      width: 28px;
      height: 28px;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border: 1px solid rgba(84,112,173,0.95);
      background: rgba(10,18,40,0.96);
      color: var(--text-muted);
      cursor: pointer;
      font-size: 1rem;
    }
    .cart-body {
      padding: 0.75rem 1rem 1rem;
      overflow-y: auto;
      flex: 1;
      font-size: 0.85rem;
    }
    .cart-empty {
      margin-top: 1rem;
      color: var(--text-muted);
      font-size: 0.85rem;
    }
    .cart-item {
      border-radius: 0.65rem;
      padding: 0.55rem 0.55rem 0.6rem;
      border: 1px solid rgba(63,87,145,0.95);
      background: rgba(8,16,40,0.97);
      margin-bottom: 0.5rem;
    }
    .cart-item-header {
      display: flex;
      justify-content: space-between;
      gap: 0.5rem;
    }
    .cart-footer {
      border-top: 1px solid rgba(45,61,102,0.95);
      padding: 0.75rem 1rem 1rem;
      font-size: 0.85rem;
      background: #050814;
    }
    .cart-summary-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      column-gap: 0.75rem;
      margin-bottom: 0.25rem;
    }
    .cart-summary-row.total { font-weight: 600; }
    .cart-summary-note {
      margin-top: 0.35rem;
      font-size: 0.78rem;
      color: var(--text-muted);
    }
    .cart-summary-note strong {
      color: var(--accent);
    }
    .cart-checkout-btn {
      margin-top: 0.6rem;
      width: 100%;
      border-radius: 0.75rem;
      border: none;
      padding: 0.6rem 0.9rem;
      font-size: 0.9rem;
      font-weight: 600;
      background: linear-gradient(130deg, var(--accent), var(--accent-strong));
      color: #001225;
      cursor: pointer;
    }

    .toast {
      position: fixed;
      bottom: 1rem;
      right: 1rem;
      padding: 0.55rem 0.9rem;
      border-radius: 999px;
      background: rgba(4,16,36,0.98);
      border: 1px solid rgba(76,126,206,0.95);
      font-size: 0.8rem;
      color: var(--text-muted);
      opacity: 0;
      transform: translateY(20px);
      pointer-events: none;
      transition: opacity 0.18s ease-out, transform 0.18s ease-out;
      z-index: 45;
    }
    .toast.show {
      opacity: 1;
      transform: translateY(0);
    }

    @media (max-width: 980px) {
      .factory-hero {
        grid-template-columns: minmax(0, 1fr);
      }
      .contact-layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    @media (max-width: 820px) {
      .hero {
        grid-template-columns: minmax(0, 1fr);
        text-align: left;
      }
      .hero-visual { order: -1; }
      .hero-orbit {
        width: 220px;
        height: 220px;
      }
      .nav-links { display: none; }
    }
    @media (max-width: 480px) {
      main { padding-inline: 0.9rem; }
      .hero { padding: 1.1rem 1rem 1.7rem; }
      .product-card { padding: 0.85rem; }
    }
  
    .pricing-note {
      margin-top: 0.6rem;
      font-size: 0.82rem;
      color: var(--text-muted);
      padding: 0.55rem 0.8rem;
      border-radius: 0.75rem;
      background: rgba(7,14,36,0.98);
      border: 1px dashed rgba(87,138,226,0.9);
    }
    .pricing-note strong {
      color: var(--accent);
    }
    
    .qty-note {
      font-size: 0.75rem;
      color: var(--text-muted);
      margin-right: 0.15rem;
    }
    
    .nav-dropdown {
      position: relative;
      display: flex;
      align-items: center;
    }
    .nav-dropdown-toggle {
      background: none;
      border: none;
      color: var(--text-muted);
      font: inherit;
      cursor: pointer;
      padding: 0;
      display: flex;
      align-items: center;
      gap: 0.2rem;
    }
    .nav-dropdown-toggle:hover {
      color: var(--text-main);
    }
    .nav-dropdown-menu {
      position: absolute;
      top: 150%;
      left: 0;
      background: rgba(5,9,20,0.98);
      border-radius: 0.75rem;
      padding: 0.4rem 0.35rem;
      box-shadow: 0 18px 40px rgba(0,0,0,0.55);
      display: none;
      flex-direction: column;
      min-width: 180px;
      z-index: 40;
      border: 1px solid rgba(65,98,160,0.7);
    }
    .nav-dropdown-menu.open {
      display: flex;
    }
    .nav-dropdown-item {
      background: none;
      border: none;
      color: var(--text-muted);
      text-align: left;
      padding: 0.35rem 0.75rem;
      border-radius: 0.55rem;
      font-size: 0.85rem;
      cursor: pointer;
      white-space: nowrap;
    }
    .nav-dropdown-item:hover {
      background: var(--accent-soft);
      color: var(--text-main);
    }

    .prod-main {
      flex: 1 1 auto;
      display: flex;
      flex-direction: column;
    }
    .prod-main .prod-prices {
      margin-top: auto;
    }

    .delivery-list {
      margin: 1rem 0 1.5rem 0;
      padding-left: 1.2rem;
      font-size: 0.95rem;
      color: var(--text-muted);
      max-width: 720px;
    }
    .delivery-list li {
      margin-bottom: 0.4rem;
    }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .user-menu {
      position: relative;
      display: none;
      align-items: center;
    }
    .user-menu-toggle {
      background: none;
      border: 1px solid rgba(74,94,140,0.9);
      border-radius: 999px;
      padding: 0.3rem 0.75rem;
      font-size: 0.8rem;
      color: var(--text-muted);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.3rem;
      background: rgba(3,7,20,0.9);
    }
    .user-menu-toggle:hover {
      color: var(--text-main);
      border-color: var(--accent);
    }
    .user-menu-dropdown {
      position: absolute;
      top: 130%;
      right: 0;
      background: rgba(5,9,20,0.98);
      border-radius: 0.75rem;
      padding: 0.35rem 0.35rem;
      box-shadow: 0 18px 40px rgba(0,0,0,0.55);
      display: none;
      flex-direction: column;
      min-width: 180px;
      z-index: 50;
      border: 1px solid rgba(65,98,160,0.7);
    }
    .user-menu-dropdown.open {
      display: flex;
    }
    .user-menu-item {
      background: none;
      border: none;
      color: var(--text-muted);
      text-align: left;
      padding: 0.35rem 0.75rem;
      border-radius: 0.55rem;
      font-size: 0.85rem;
      cursor: pointer;
      white-space: nowrap;
      width: 100%;
    }
    .user-menu-item:hover {
      background: var(--accent-soft);
      color: var(--text-main);
    }
    .user-greeting {
      font-size: 0.8rem;
      color: var(--text-muted);
      white-space: nowrap;
      min-width: 0;
    }
    .user-greeting span {
      color: var(--accent);
      font-weight: 500;
    }
    .signin-section {
      padding: 3rem 0 3.5rem 0;
    }
    .auth-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 1.75rem;
    }
    .auth-card {
      background: rgba(7, 14, 36, 0.97);
      border-radius: 1.2rem;
      padding: 1.5rem 1.6rem;
      border: 1px solid rgba(65, 98, 160, 0.85);
      box-shadow: 0 18px 50px rgba(0,0,0,0.75);
      font-size: 0.86rem;
      color: var(--text-muted);
    }
    .auth-card h3 {
      margin: 0 0 0.35rem;
      font-size: 1.05rem;
      color: var(--text-main);
    }
    .auth-intro {
      margin: 0 0 0.7rem;
      font-size: 0.86rem;
      color: var(--text-muted);
    }
    .auth-form {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0.6rem 0.9rem;
    }
    .auth-form .full-row {
      grid-column: 1 / -1;
    }
    .auth-label {
      display: block;
      margin-bottom: 0.2rem;
      font-size: 0.8rem;
      color: var(--text-muted);
    }
    .auth-input,
    .auth-select {
      width: 100%;
      border-radius: 0.55rem;
      border: 1px solid rgba(78, 108, 176, 0.95);
      background: rgba(5, 10, 26, 0.96);
      color: var(--text-main);
      padding: 0.4rem 0.55rem;
      font-size: 0.85rem;
    }
    .auth-input:focus,
    .auth-select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(61,164,255,0.7);
    }
    .auth-check {
      display: flex;
      align-items: center;
      gap: 0.4rem;
      font-size: 0.8rem;
      margin-top: 0.4rem;
    }
    .auth-check input {
      width: auto;
      margin: 0;
    }
    .auth-actions {
      margin-top: 0.7rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.6rem;
      align-items: center;
    }
    .auth-submit {
      border-radius: 999px;
      border: none;
      padding: 0.55rem 1.2rem;
      font-size: 0.88rem;
      font-weight: 600;
      background: linear-gradient(130deg, var(--accent), var(--accent-strong));
      color: #001225;
      cursor: pointer;
    }
    .auth-note {
      font-size: 0.78rem;
      color: var(--text-muted);
    }
    .auth-footnote {
      margin-top: 0.6rem;
      font-size: 0.78rem;
      color: var(--text-muted);
    }
    .auth-footnote strong {
      color: var(--accent);
    }
    @media (max-width: 900px) {
      .auth-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }
    .cart-summary-row select#cart-payment {
      font-size: 0.8rem;
      padding: 0.25rem 0.4rem;
      border-radius: 0.5rem;
      border: 1px solid rgba(74,94,140,0.9);
      background: rgba(3,7,20,0.9);
      color: var(--text-main);
    }

.signin-section > * {
  max-width:1100px;
  margin-left:auto;
  margin-right:auto;
  padding-left:1.5rem;
  padding-right:1.5rem;
}

/* ADMIN PAGE */
.admin-section {
  margin-top: 2.5rem;
}

.admin-customers-grid {
  margin-top: 1.2rem;
  display: grid;
  grid-template-columns: minmax(0, 1fr);
  gap: 1rem;
}

.admin-customer-card {
  border-radius: 0.9rem;
  background: rgba(8,16,40,0.95);
  border: 1px solid rgba(60,95,170,0.9);
  padding: 0.9rem;
  box-shadow: 0 16px 40px rgba(0,0,0,0.8);
  font-size: 0.85rem;
}

.admin-customer-header {
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
  margin-bottom: 0.6rem;
}

.admin-customer-name {
  font-weight: 600;
}

.admin-customer-email {
  color: var(--text-muted);
  font-size: 0.8rem;
}

.admin-customer-fields {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 0.6rem;
  margin-bottom: 0.7rem;
}

.admin-customer-fields label {
  display: flex;
  flex-direction: column;
  gap: 0.15rem;
  font-size: 0.8rem;
  color: var(--text-muted);
}

.admin-customer-fields select,
.admin-customer-fields input {
  font-size: 0.82rem;
  padding: 0.25rem 0.4rem;
  border-radius: 0.5rem;
  border: 1px solid rgba(74,94,140,0.9);
  background: rgba(3,7,20,0.9);
  color: var(--text-main);
}

.admin-customer-card .admin-save-btn {
  margin-top: 0.3rem;
  font-size: 0.8rem;
  padding: 0.4rem 0.9rem;
}

.admin-customer-platinum {
  margin-top: 0.8rem;
  border-top: 1px solid rgba(60,95,170,0.9);
  padding-top: 0.7rem;
}

.admin-customer-platinum h2,
.admin-customer-platinum h4 {
  margin: 0 0 0.5rem;
  font-size: 0.9rem;
}

.admin-prices-grid {
  display: grid;
  grid-template-columns: minmax(0, 1fr);
  gap: 0.35rem;
  max-height: 260px;
  overflow-y: auto;
}

.admin-price-row {
  display: grid;
  grid-template-columns: 2fr 1.1fr 1.1fr;
  gap: 0.4rem;
  align-items: center;
  font-size: 0.8rem;
}

.admin-price-row .apr-name {
  font-size: 0.8rem;
}

.admin-price-row .apr-field label {
  display: flex;
  flex-direction: column;
  gap: 0.1rem;
}

.admin-price-row input {
  font-size: 0.8rem;
  padding: 0.18rem 0.32rem;
  border-radius: 0.4rem;
  border: 1px solid rgba(74,94,140,0.9);
  background: rgba(3,7,20,0.95);
  color: var(--text-main);
}


    @page {
      size: A4;
      margin: 12mm;
    }

    @media print {

    body {
        background: url('shrinxa_transparent_4000px.png') center center no-repeat !important;
        background-size: 60% auto !important;
        opacity: 1 !important;
    }
    
  * {
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
  }
  html, body {
    background: #ffffff !important;
    margin: 0 !important;
    padding: 0 !important;
    height: auto !important;
  }
  body * {
    display: none !important;
  }
  #invoiceModal,
  #invoiceModal * {
    display: unset !important;
    visibility: visible !important;
  }
  #invoiceModal {
    display: block !important;
    position: static !important;
    inset: auto !important;
    background: #ffffff !important;
    box-shadow: none !important;
    padding: 0 !important;
    margin: 0 !important;
  }
  #invoiceModal .modal-card {
    box-shadow: none !important;
    border: none !important;
    max-width: 720px !important;
    width: 100% !important;
    margin: 0 auto !important;
    max-height: none !important;
    overflow: visible !important;
  }
  #invoiceModal .invoice-actions,
  #invoiceClose,
  #invoicePrint,
  #invoiceDownload {
    display: none !important;
  }
  @page {
    size: A4;
    margin: 12mm;
  }
}
    
</style>
</head>
<body>
<header>
<div class="nav-inner">
<div class="nav-left">
<div class="nav-logo">
<img alt="Shrinxa logo" src="shrinxa_transparent_4000px.png"/>
</div>
<div class="nav-brand-text">
<strong>SHRINXA</strong>
<span>Premium Packaging Solutions</span>
</div>
</div>
<nav class="nav-links">
<a class="nav-anchor nav-home" data-nav="home" href="index.html">Home</a>
<div class="nav-dropdown">
  <button class="nav-dropdown-toggle" type="button" aria-haspopup="true" aria-expanded="false">
    Products <span aria-hidden="true">â–¾</span>
  </button>
  <div class="nav-dropdown-menu" role="menu">
    <a class="nav-dropdown-item" role="menuitem" href="products.html?cat=all">All Products</a>
    <a class="nav-dropdown-item" role="menuitem" href="products.html?cat=stretch">Stretch Wrap</a>
    <a class="nav-dropdown-item" role="menuitem" href="products.html?cat=prestretch">Pre-Stretch Wrap</a>
    <a class="nav-dropdown-item" role="menuitem" href="products.html?cat=tape">Tape Rolls</a>
  </div>
</div>
<a class="nav-anchor nav-about" data-nav="about" href="about.html">About</a>
<a class="nav-anchor nav-delivery" data-nav="delivery" href="delivery.html">Delivery</a>
<a class="nav-anchor nav-contact" data-nav="contact" href="contactus.html">Contact us</a>

<a class="nav-anchor nav-signin" data-nav="signin" href="login.html">Sign in</a></nav>
<div class="nav-right"><div class="user-menu" id="user-menu" style="display:none; position:relative;"><button class="user-menu-toggle" id="userMenuToggle" type="button"><span id="userMenuName">Profile</span> â–¾</button><div class="user-menu-dropdown" id="userMenuDropdown"><button class="user-menu-item" type="button" data-action="profile">Profile</button><button class="user-menu-item" type="button" data-action="history">Purchase History</button><button class="user-menu-item" type="button" data-action="signout">Sign out</button></div></div><div class="user-greeting" id="user-greeting"></div><button class="cart-chip" id="openCartBtn">
      ðŸ§º Cart <span class="badge" id="cartCount">0</span>
</button></div></div>
</header>
<main>
<section class="page-section" data-page="products" id="products">
<h2>Product catalogue</h2>
<p class="section-lede">All items below come directly from the official Shrinxa catalogue. Use the filters to see only Stretch Wrap, Pre-Stretch, or Tape rolls. The cart is a simulator and applies 13% HST on the subtotal.</p><div class="pricing-note">Pricing tiers: retail applies from 1â€“49 boxes per item. Wholesale pricing starts from 50 boxes and above for a given product line. Orders under $300 are estimated at a $30 GTA delivery charge; orders $300+ qualify for free delivery.</div>
<div class="filters-row">
<button class="pill" data-filter="all">All products</button>
<button class="pill" data-filter="Stretch Wrap">Stretch Wrap</button>
<button class="pill" data-filter="Pre-Stretch Wrap">Pre-Stretch Wrap</button>
<button class="pill" data-filter="Packaging Tape">Tape rolls</button>
</div>
<div class="products-grid">
<!-- STRETCH WRAP -->
<article class="product-card" data-id="fortress-12" data-name='Fortress Mid-Wrap (12")' data-retail="48" data-retail-gold="45" data-type="Stretch Wrap" data-wholesale="40" data-wholesale-gold="40">
<div class="prod-header">
<div class="prod-name">Fortress Mid-Wrap (12")</div>
<div class="prod-category">Stretch Wrap</div>
</div>
<div class="prod-image-wrap">
<img alt="Fortress Mid-Wrap 12 inch stretch film" src="fortress-12.png"/>
</div>
<div class="prod-main"><div class="prod-spec">12" Â· Gauge 80 Â· 450M Â· 4 rolls/box</div><p class="prod-desc">
          Durable, high-strength hand film for everyday palletizing. Delivers reliable puncture
          resistance and tight load containment for medium-to-heavy loads where control and
          precision wrapping are important.
        </p><ul class="prod-features">
<li>Medium-width roll ideal for narrower or irregular pallets.</li>
<li>Gauge 80 strength for confident containment of mixed loads.</li>
<li>Smooth unwind for faster wrapping with less operator fatigue.</li>
<li>High-clarity film keeps labels and barcodes visible.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$48.00</strong></span>
<span class="price-chip">Wholesale <strong>$40.00</strong></span>
</div><div class="prod-meta">
<span>4 rolls per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
<article class="product-card" data-id="titan-14" data-name='Titan Heavy-Wrap (14")' data-retail="55" data-retail-gold="50" data-type="Stretch Wrap" data-wholesale="47" data-wholesale-gold="43">
<div class="prod-header">
<div class="prod-name">Titan Heavy-Wrap (14")</div>
<div class="prod-category">Stretch Wrap</div>
</div>
<div class="prod-image-wrap">
<img alt="Titan Heavy-Wrap 14 inch stretch film" src="titan-14.png"/>
</div>
<div class="prod-main"><div class="prod-spec">14" Â· Gauge 90 Â· 450M Â· 4 rolls/box</div><p class="prod-desc">
          Heavy-duty stretch film engineered for demanding loads. Extra gauge thickness and wider
          web provide aggressive containment for bulky, uneven, or high-density pallets.
        </p><ul class="prod-features">
<li>Gauge 90 for higher puncture and tear resistance.</li>
<li>14" width gives more coverage with each pass around the pallet.</li>
<li>Helps stabilize tall or top-heavy pallets during transit.</li>
<li>Ideal for construction materials, hardware and dense cartons.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$55.00</strong></span>
<span class="price-chip">Wholesale <strong>$47.00</strong></span>
</div><div class="prod-meta">
<span>4 rolls per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
<article class="product-card" data-id="steadfast-18" data-name='Steadfast All-Purpose (18")' data-retail="70" data-retail-gold="60" data-type="Stretch Wrap" data-wholesale="62" data-wholesale-gold="53">
<div class="prod-header">
<div class="prod-name">Steadfast All-Purpose (18")</div>
<div class="prod-category">Stretch Wrap</div>
</div>
<div class="prod-image-wrap">
<img alt="Steadfast All-Purpose 18 inch stretch film" src="steadfast-18.png"/>
</div>
<div class="prod-main"><div class="prod-spec">18" Â· Gauge 80 Â· 450M Â· 4 rolls/box</div><p class="prod-desc">
          A versatile, all-purpose 18" hand film that balances strength and usability. Perfect for
          warehouses that wrap a wide mix of pallets and want one reliable go-to film.
        </p><ul class="prod-features">
<li>Popular 18" width for maximum coverage per revolution.</li>
<li>Gauge 80 film gives dependable performance on most pallet weights.</li>
<li>Good puncture resistance to handle corners and sharp edges.</li>
<li>Clear optics help with product identification and scanning.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$70.00</strong></span>
<span class="price-chip">Wholesale <strong>$62.00</strong></span>
</div><div class="prod-meta">
<span>4 rolls per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
<article class="product-card" data-id="colossus-20-max" data-name='Colossus Max-Load (20")' data-retail="70" data-retail-gold="60" data-type="Stretch Wrap" data-wholesale="62" data-wholesale-gold="53">
<div class="prod-header">
<div class="prod-name">Colossus Max-Load (20")</div>
<div class="prod-category">Stretch Wrap</div>
</div>
<div class="prod-image-wrap">
<img alt="Colossus Max-Load 20 inch stretch film" src="colossus-max-20.png"/>
</div>
<div class="prod-main"><div class="prod-spec">20" Â· Gauge 70 Â· 1800M Â· 1 roll/box</div><p class="prod-desc">
          Long-length stretch film for efficient wrapping of medium-duty pallets. Designed to reduce
          roll changeovers while maintaining secure, consistent load containment.
        </p><ul class="prod-features">
<li>20" width rapidly covers large pallet faces.</li>
<li>Gauge 70 for strong everyday performance with optimized material use.</li>
<li>1800M roll length lowers downtime from frequent roll changes.</li>
<li>Great fit for busy shipping departments and production lines.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$70.00</strong></span>
<span class="price-chip">Wholesale <strong>$62.00</strong></span>
</div><div class="prod-meta">
<span>1 roll per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
<article class="product-card" data-id="colossus-20-heavy" data-name='Colossus Heavy-Duty (20")' data-retail="80" data-retail-gold="70" data-type="Stretch Wrap" data-wholesale="72" data-wholesale-gold="60">
<div class="prod-header">
<div class="prod-name">Colossus Heavy-Duty (20")</div>
<div class="prod-category">Stretch Wrap</div>
</div>
<div class="prod-image-wrap">
<img alt="Colossus Heavy-Duty 20 inch stretch film" src="colossus-heavy-20.png"/>
</div>
<div class="prod-main"><div class="prod-spec">20" Â· Gauge 90 Â· 1800M Â· 1 roll/box</div><p class="prod-desc">
          A true heavy-duty 20" film for the most demanding applications. Extra-thick gauge and long
          roll length provide maximum security on heavy, sharp, or high-value pallets.
        </p><ul class="prod-features">
<li>Gauge 90 film resists punctures, tears and corner damage.</li>
<li>Excellent for metal goods, building materials and dense freight.</li>
<li>Reduces risk of load shifting on long or rough routes.</li>
<li>1800M length helps keep high-volume operations moving.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$80.00</strong></span>
<span class="price-chip">Wholesale <strong>$72.00</strong></span>
</div><div class="prod-meta">
<span>1 roll per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
<!-- PRE-STRETCH -->
<article class="product-card" data-id="flexlite-12" data-name='FlexLite Mid-Stretch (12")' data-retail="38" data-retail-gold="35" data-type="Pre-Stretch Wrap" data-wholesale="30" data-wholesale-gold="28">
<div class="prod-header">
<div class="prod-name">FlexLite Mid-Stretch (12")</div>
<div class="prod-category">Pre-Stretch Wrap</div>
</div>
<div class="prod-image-wrap">
<img alt="FlexLite Mid-Stretch 12 inch pre-stretch film" src="flexlite-12.png"/>
</div>
<div class="prod-main"><div class="prod-spec">12" Â· 10 Microns Â· 450M Â· 4 rolls/box</div><p class="prod-desc">
          Lightweight, ultra-thin pre-stretch film that arrives already stretched for you. Delivers
          consistent holding force with less effort and material compared to traditional hand wrap.
        </p><ul class="prod-features">
<li>Ultra-thin 10 micron film maximizes yield per roll.</li>
<li>Pre-stretched design reduces operator fatigue and improves speed.</li>
<li>Ideal for light to medium-weight pallets and frequent hand wrapping.</li>
<li>Great upgrade when moving away from standard gauge hand films.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$38.00</strong></span>
<span class="price-chip">Wholesale <strong>$30.00</strong></span>
</div><div class="prod-meta">
<span>4 rolls per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
<article class="product-card" data-id="flexlite-14" data-name='FlexLite Reinforced (14")' data-retail="45" data-retail-gold="40" data-type="Pre-Stretch Wrap" data-wholesale="37" data-wholesale-gold="32">
<div class="prod-header">
<div class="prod-name">FlexLite Reinforced (14")</div>
<div class="prod-category">Pre-Stretch Wrap</div>
</div>
<div class="prod-image-wrap">
<img alt="FlexLite Reinforced 14 inch pre-stretch film" src="flexlite-14.png"/>
</div>
<div class="prod-main"><div class="prod-spec">14" Â· 10 Microns Â· 450M Â· 4 rolls/box</div><p class="prod-desc">
          A slightly wider pre-stretch option that provides excellent cling and containment. Designed
          to handle more challenging mixed pallets while still saving film per load.
        </p><ul class="prod-features">
<li>14" width covers more surface area in fewer wraps.</li>
<li>Pre-stretch technology keeps tension stable around the pallet.</li>
<li>Helps reduce neck-down and film breaks compared to low-quality films.</li>
<li>Ideal for 3PL and distribution environments with varied SKUs.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$45.00</strong></span>
<span class="price-chip">Wholesale <strong>$37.00</strong></span>
</div><div class="prod-meta">
<span>4 rolls per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
<article class="product-card" data-id="flexlite-18" data-name='FlexLite Pro-Stretch (18")' data-retail="60" data-retail-gold="50" data-type="Pre-Stretch Wrap" data-wholesale="52" data-wholesale-gold="43">
<div class="prod-header">
<div class="prod-name">FlexLite Pro-Stretch (18")</div>
<div class="prod-category">Pre-Stretch Wrap</div>
</div>
<div class="prod-image-wrap">
<img alt="FlexLite Pro-Stretch 18 inch pre-stretch film" src="flexlite-18.png"/>
</div>
<div class="prod-main"><div class="prod-spec">18" Â· 10 Microns Â· 450M Â· 4 rolls/box</div><p class="prod-desc">
          Professional-grade pre-stretch film for operations that want the lowest cost per pallet.
          Combines wide coverage with light, easy handling.
        </p><ul class="prod-features">
<li>18" width speeds up wrapping on standard pallet footprints.</li>
<li>Great combination of film savings and load security.</li>
<li>Ideal for shipping departments with high daily pallet counts.</li>
<li>Reduces overall film consumption compared to conventional rolls.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$60.00</strong></span>
<span class="price-chip">Wholesale <strong>$52.00</strong></span>
</div><div class="prod-meta">
<span>4 rolls per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
<article class="product-card" data-id="flexlite-20" data-name='FlexLite Max-Stretch (20")' data-retail="85" data-retail-gold="75" data-type="Pre-Stretch Wrap" data-wholesale="75" data-wholesale-gold="65">
<div class="prod-header">
<div class="prod-name">FlexLite Max-Stretch (20")</div>
<div class="prod-category">Pre-Stretch Wrap</div>
</div>
<div class="prod-image-wrap">
<img alt="FlexLite Max-Stretch 20 inch pre-stretch film" src="flexlite-20.png"/>
</div>
<div class="prod-main"><div class="prod-spec">20" Â· 10.7 Microns Â· 2700M Â· 1 roll/box</div><p class="prod-desc">
          High-yield pre-stretch film with an extra-long 2700M roll length. Built for operations that
          want to minimize changeovers and keep lines running.
        </p><ul class="prod-features">
<li>20" width quickly covers large and tall pallets.</li>
<li>10.7 micron film provides excellent yield with dependable containment.</li>
<li>2700M length drastically reduces roll changes on busy shifts.</li>
<li>Perfect for high-volume production, co-packers and 3PL facilities.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$85.00</strong></span>
<span class="price-chip">Wholesale <strong>$75.00</strong></span>
</div><div class="prod-meta">
<span>1 roll per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
<!-- TAPE ROLLS -->
<article class="product-card" data-id="water-2" data-name='Water Glue Clear-Tape (2")' data-retail="65" data-retail-gold="55" data-type="Packaging Tape" data-wholesale="57" data-wholesale-gold="50">
<div class="prod-header">
<div class="prod-name">Water Glue Clear-Tape (2")</div>
<div class="prod-category">Packaging Tape</div>
</div>
<div class="prod-image-wrap">
<img alt="Water Glue Tape 2 inch" src="water-tape-2.png"/>
</div>
<div class="prod-main"><div class="prod-spec">Water glue Â· 50 Microns Â· 100M Â· 32 rolls/box</div><p class="prod-desc">
          Clear water-based adhesive tape designed for clean, tamper-evident seals on standard
          cartons. Activates with pressure for a permanent bond on corrugated surfaces.
        </p><ul class="prod-features">
<li>50 micron film for strong sealing strength on everyday boxes.</li>
<li>Excellent adhesion to virgin and recycled corrugated board.</li>
<li>2" width is ideal for standard e-commerce and shipper cartons.</li>
<li>Resists humidity and temperature swings during storage and transport.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$65.00</strong></span>
<span class="price-chip">Wholesale <strong>$57.00</strong></span>
</div><div class="prod-meta">
<span>32 rolls per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
<article class="product-card" data-id="hotmelt-2" data-name='Hot Melt Max-Grip (2")' data-retail="75" data-retail-gold="70" data-type="Packaging Tape" data-wholesale="67" data-wholesale-gold="62">
<div class="prod-header">
<div class="prod-name">Hot Melt Max-Grip (2")</div>
<div class="prod-category">Packaging Tape</div>
</div>
<div class="prod-image-wrap">
<img alt="Hot Melt Tape 2 inch" src="hotmelt-2.png"/>
</div>
<div class="prod-main"><div class="prod-spec">Hot melt Â· 50 Microns Â· 100M Â· 32 rolls/box</div><p class="prod-desc">
          Strong pressure-sensitive carton sealing tape with aggressive hot-melt adhesive. Designed
          for fast-moving packing stations and reliable sealing on a wide range of box types.
        </p><ul class="prod-features">
<li>High-tack hot-melt adhesive grabs quickly and holds firmly.</li>
<li>Performs well on both virgin and recycled corrugated cartons.</li>
<li>2" width works with standard tape guns and dispensers.</li>
<li>Excellent choice for general shipping, fulfillment and 3PL use.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$75.00</strong></span>
<span class="price-chip">Wholesale <strong>$67.00</strong></span>
</div><div class="prod-meta">
<span>32 rolls per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
<article class="product-card" data-id="water-3" data-name='Water Glue Clear-Tape (3")' data-retail="65" data-retail-gold="55" data-type="Packaging Tape" data-wholesale="57" data-wholesale-gold="50">
<div class="prod-header">
<div class="prod-name">Water Glue Clear-Tape (3")</div>
<div class="prod-category">Packaging Tape</div>
</div>
<div class="prod-image-wrap">
<img alt="Water Glue Tape 3 inch" src="water-tape-3.png"/>
</div>
<div class="prod-main"><div class="prod-spec">Water glue Â· 50 Microns Â· 100M Â· 24 rolls/box</div><p class="prod-desc">
          Wider-format water glue tape for extra sealing security on heavy or oversized cartons.
          Creates a tamper-evident, permanent bond once applied.
        </p><ul class="prod-features">
<li>3" width provides more coverage and edge protection on big boxes.</li>
<li>Ideal for export shipments, heavy products and over-packed cartons.</li>
<li>Strong adhesion even on rough or recycled corrugated surfaces.</li>
<li>Helps prevent carton opening during vibration and long-distance transit.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$65.00</strong></span>
<span class="price-chip">Wholesale <strong>$57.00</strong></span>
</div><div class="prod-meta">
<span>24 rolls per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
<article class="product-card" data-id="hotmelt-3" data-name='Hot Melt Max-Grip (3")' data-retail="75" data-retail-gold="70" data-type="Packaging Tape" data-wholesale="67" data-wholesale-gold="62">
<div class="prod-header">
<div class="prod-name">Hot Melt Max-Grip (3")</div>
<div class="prod-category">Packaging Tape</div>
</div>
<div class="prod-image-wrap">
<img alt="Hot Melt Tape 3 inch" src="hotmelt-3.png"/>
</div>
<div class="prod-main"><div class="prod-spec">Hot melt Â· 50 Microns Â· 100M Â· 24 rolls/box</div><p class="prod-desc">
          Extra-wide hot-melt sealing tape offering powerful grip and coverage. Made for heavy
          cartons, unstable loads and shipments where box integrity is critical.
        </p><ul class="prod-features">
<li>3" width improves seal strength across major carton seams.</li>
<li>Hot-melt adhesive delivers a strong, reliable bond in seconds.</li>
<li>Performs well under vibration, stacking and long-term storage.</li>
<li>Great option for industrial, manufacturing and export customers.</li>
</ul><div class="prod-prices">
<span class="price-chip">Retail <strong>$75.00</strong></span>
<span class="price-chip">Wholesale <strong>$67.00</strong></span>
</div><div class="prod-meta">
<span>24 rolls per box</span>
<span>Cart uses tiered pricing (retail 1â€“49 boxes, wholesale 50+)</span>
</div></div>
<div class="prod-actions">
<span class="qty-note">Qty (boxes)</span><input class="qty-input" min="1" type="number" value="1"/>
<button class="btn-add">Add to cart</button>
</div>
</article>
</div>
</section>
</main>
<footer>
  Â© <span id="year"></span> Shrinxa. All rights reserved.
</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const y = document.getElementById("year");
  if (y) y.textContent = new Date().getFullYear();
});
</script>


<script>
(function(){
  // dropdown toggle (mobile friendly)
  document.addEventListener("click", (e) => {
    const btn = e.target.closest(".nav-dropdown > button");
    const menu = document.querySelector(".nav-dropdown .nav-dropdown-menu");
    if (!btn && menu && !menu.contains(e.target)) {
      menu.classList.remove("open");
      return;
    }
    if (btn && menu) {
      e.preventDefault();
      menu.classList.toggle("open");
    }
  });

  function setActivePill(target) {
    document.querySelectorAll(".pill").forEach(p => p.classList.remove("active"));
    if (target) target.classList.add("active");
  }

  function applyFilter(filterLabel) {
    const cards = document.querySelectorAll(".product-card[data-type]");
    if (!filterLabel || filterLabel === "all") {
      cards.forEach(c => c.style.display = "");
      return;
    }
    cards.forEach(c => {
      const t = c.getAttribute("data-type") || "";
      c.style.display = (t === filterLabel) ? "" : "none";
    });
  }

  function catToLabel(cat) {
    if (!cat) return "all";
    const c = cat.toLowerCase();
    if (c === "all") return "all";
    if (c === "stretch") return "Stretch Wrap";
    if (c === "prestretch") return "Pre-Stretch Wrap";
    if (c === "tape") return "Packaging Tape";
    return "all";
  }

  document.addEventListener("DOMContentLoaded", () => {
    const pills = Array.from(document.querySelectorAll(".pill[data-filter]"));
    pills.forEach(p => {
      p.addEventListener("click", () => {
        const f = p.getAttribute("data-filter");
        setActivePill(p);
        applyFilter(f === "all" ? "all" : f);
      });
    });

    // initial from query param
    const params = new URLSearchParams(window.location.search);
    const label = catToLabel(params.get("cat"));
    if (label === "all") {
      const allPill = pills.find(p => (p.getAttribute("data-filter") || "").toLowerCase() === "all");
      setActivePill(allPill);
      applyFilter("all");
    } else {
      const pill = pills.find(p => (p.getAttribute("data-filter") || "") === label);
      setActivePill(pill);
      applyFilter(label);
    }
  });
})();
</script>


<script>
// Products dropdown toggle (site-wide)
document.addEventListener("DOMContentLoaded", () => {
  const toggle = document.querySelector(".nav-dropdown-toggle");
  const menu = document.querySelector(".nav-dropdown-menu");
  if (!toggle || !menu) return;

  const close = () => {
    menu.classList.remove("open");
    toggle.setAttribute("aria-expanded", "false");
  };

  toggle.addEventListener("click", (e) => {
    e.preventDefault();
    e.stopPropagation();
    const isOpen = menu.classList.toggle("open");
    toggle.setAttribute("aria-expanded", isOpen ? "true" : "false");
  });

  document.addEventListener("click", (e) => {
    if (!menu.contains(e.target) && !toggle.contains(e.target)) close();
  });

  window.addEventListener("keydown", (e) => {
    if (e.key === "Escape") close();
  });
});
</script>


<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script>
// Capture the SAME Supabase client created inside auth.js (without editing auth.js)
// auth.js runs AFTER this script tag, so we wrap createClient *immediately*.
(() => {
  if (!window.supabase || typeof window.supabase.createClient !== "function") return;
  if (window.__shrinxaCreateClientWrapped) return;
  window.__shrinxaCreateClientWrapped = true;
  const _orig = window.supabase.createClient.bind(window.supabase);
  window.supabase.createClient = (...args) => {
    const client = _orig(...args);
    window.supabaseClient = client;
    return client;
  };
})();

/* User dropdown + actions (about/contact/delivery/products) */
document.addEventListener("DOMContentLoaded", () => {
  const toggle = document.getElementById("userMenuToggle");
  const menu = document.getElementById("userMenuDropdown");
  if (!toggle || !menu) return;

  const closeMenu = () => menu.classList.remove("open");

  toggle.addEventListener("click", (e) => {
    e.preventDefault();
    e.stopPropagation();
    menu.classList.toggle("open");
  });

  document.addEventListener("click", (e) => {
    if (!menu.contains(e.target) && !toggle.contains(e.target)) closeMenu();
  });

  window.addEventListener("keydown", (e) => {
    if (e.key === "Escape") closeMenu();
  });

  const profileBtn = menu.querySelector('[data-action="profile"]');
  const historyBtn = menu.querySelector('[data-action="history"]');
  const signOutBtn = menu.querySelector('[data-action="signout"]');

  profileBtn && profileBtn.addEventListener("click", (e) => {
    e.preventDefault();
    closeMenu();
    window.location.href = "index.html#profile";
  });

  historyBtn && historyBtn.addEventListener("click", (e) => {
    e.preventDefault();
    closeMenu();
    window.location.href = "index.html#history";
  });

  signOutBtn && signOutBtn.addEventListener("click", async (e) => {
    e.preventDefault();
    closeMenu();
    await doSignOut();
    window.location.href = "index.html";
  });
});

// --- Supabase sign out helper (NO auth.js edits) ---
async function getSupabaseClient() {
  if (window.supabaseClient?.auth) return window.supabaseClient;
  if (window._supabase?.auth) return window._supabase;
  if (window.supabase?.auth && !window.supabase.createClient) return window.supabase;

  if (!window.supabase || typeof window.supabase.createClient !== "function") return null;

  try {
    const res = await fetch("auth.js", { cache: "no-cache" });
    const txt = await res.text();

    const url =
      (txt.match(/supabaseUrl\s*=\s*['"]([^'"]+)['"]/i)?.[1]) ||
      (txt.match(/SUPABASE[_\s]?URL\s*=\s*['"]([^'"]+)['"]/i)?.[1]) ||
      (txt.match(/createClient\(\s*['"]([^'"]*supabase\.co[^'"]*)['"]/i)?.[1]);

    const key =
      (txt.match(/supabaseKey\s*=\s*['"]([^'"]+)['"]/i)?.[1]) ||
      (txt.match(/SUPABASE[_\s]?(ANON|PUBLIC)[_\s]?KEY\s*=\s*['"]([^'"]+)['"]/i)?.[2]) ||
      (txt.match(/createClient\([^,]+,\s*['"]([^'"]+)['"]/i)?.[1]);

    if (!url || !key) return null;

    const sb = window.supabase.createClient(url, key);
    window.supabaseClient = sb;
    return sb;
  } catch (e) {
    return null;
  }
}

async function doSignOut() {
  try {
    const sb = await getSupabaseClient();
    if (sb?.auth?.signOut) await sb.auth.signOut();
  } catch (e) {}
}

async function initAuthUI() {
  try {
    const sb = await getSupabaseClient();
    if (!sb?.auth) return;

    const userMenu = document.getElementById("user-menu");
    const greeting = document.getElementById("user-greeting");
    const signInLink = document.querySelector(".nav-signin");

    const apply = (email) => {
      if (email) {
        if (userMenu) userMenu.style.display = "flex";
        if (greeting) greeting.textContent = "";
        if (signInLink) signInLink.style.display = "none";
      } else {
        if (userMenu) userMenu.style.display = "none";
        if (signInLink) signInLink.style.display = "";
      }
    };

    // Initial state
    if (sb.auth.getSession) {
      const { data } = await sb.auth.getSession();
      apply(data?.session?.user?.email || null);
    } else if (sb.auth.getUser) {
      const { data } = await sb.auth.getUser();
      apply(data?.user?.email || null);
    } else {
      apply(null);
    }

    // Live updates
    if (sb.auth.onAuthStateChange) {
      sb.auth.onAuthStateChange((_event, session) => {
        apply(session?.user?.email || null);
      });
    }
  } catch (e) {
    // ignore
  }
}

document.addEventListener("DOMContentLoaded", () => {
  initAuthUI();
});

</script>

<script src="auth.js"></script>

<script>
(() => {
  const SUPABASE_URL = "https://fgrjojxwevllnjdixiyd.supabase.co";
  const SUPABASE_ANON_KEY = "sb_publishable_k5D9JKO5lMCHlju-WhlSAQ_XEiEruT_";
  const CART_ADD_URL = `${SUPABASE_URL}/functions/v1/cart-add`;

  const CART_COUNT_URL = `${SUPABASE_URL}/functions/v1/cart-count`;

const cartCountEl = document.getElementById("cartCount");

  function setCartCount(n) {
    if (cartCountEl) cartCountEl.textContent = String(Number(n) || 0);
  }

  async function getAccessToken() {
    const sb = window._supabase || window.supabaseClient || window.SupabaseClient || window.supabase;
    if (!sb || !sb.auth || !sb.auth.getSession) return null;
    const { data, error } = await sb.auth.getSession();
    if (error) return null;
    return data?.session?.access_token || null;
  }


  // Tier pricing (standard / gold / platinum)
  // platinum uses gold prices by default (custom platinum per-customer pricing will be added later).
  let CURRENT_TIER = "standard";
  // Platinum per-customer overrides: Map(product_id -> {price, wholesale_price})
  const PLATINUM_OVERRIDES = new Map();


  function normalizeTier(t) {
    const v = String(t ?? "standard").trim().toLowerCase();
    if (v.includes("platinum")) return "platinum";
    if (v.includes("gold")) return "gold";
    return "standard";
  }

  function tierForPricing() {
    // platinum defaults to gold pricing unless customized elsewhere
    return (CURRENT_TIER === "gold" || CURRENT_TIER === "platinum") ? "gold" : "standard";
  }

  function getCardTieredPrices(card) {
    const t = tierForPricing();

    const retailStandard = Number(card.dataset.retail || card.getAttribute("data-retail") || 0) || 0;
    const wholesaleStandard = Number(card.dataset.wholesale || card.getAttribute("data-wholesale") || 0) || 0;

    const retailGold = Number(card.dataset.retailGold || card.getAttribute("data-retail-gold") || retailStandard) || retailStandard;
    const wholesaleGold = Number(card.dataset.wholesaleGold || card.getAttribute("data-wholesale-gold") || wholesaleStandard) || wholesaleStandard;

    // Platinum: apply per-customer overrides if available; otherwise fall back to Gold.
    if (CURRENT_TIER === "platinum") {
      const pid = String(card.dataset.id || card.getAttribute("data-id") || "");
      const ov = pid ? PLATINUM_OVERRIDES.get(pid) : null;
      if (ov) {
        return {
          price: (ov.price !== null && ov.price !== undefined) ? ov.price : retailGold,
          wholesale_price: (ov.wholesale_price !== null && ov.wholesale_price !== undefined) ? ov.wholesale_price : wholesaleGold,
        };
      }
      return { price: retailGold, wholesale_price: wholesaleGold };
    }

    return {
      price: t === "gold" ? retailGold : retailStandard,
      wholesale_price: t === "gold" ? wholesaleGold : wholesaleStandard,
    };
  }


  function _asNumber(v) {
      const n = Number(v);
      return Number.isFinite(n) ? n : null;
    }
  
    function _pick(obj, keys) {
      for (const k of keys) {
        if (obj && Object.prototype.hasOwnProperty.call(obj, k) && obj[k] !== null && obj[k] !== undefined) return obj[k];
      }
      return null;
    }
  
    async function loadPlatinumOverrides(userId) {
      // Clear old overrides
      PLATINUM_OVERRIDES.clear();
      const sb = window._supabase || window.supabaseClient || window.SupabaseClient || window.supabase;
      if (!sb?.from) return;
  
      // 1) Try JSON stored on profiles (common patterns)
      const profileJsonCols = ["platinum_prices", "platinum_pricing", "custom_prices", "pricing_overrides", "price_overrides"];
      for (const col of profileJsonCols) {
        try {
          const { data, error } = await sb.from("profiles").select(col).eq("id", userId).maybeSingle();
          if (error || !data) continue;
          const raw = data?.[col];
          if (raw && typeof raw === "object") {
            // Expected shape: { "<product_id>": { price, wholesale_price } } OR { "<product_id>": priceNumber }
            for (const [pid, val] of Object.entries(raw)) {
              if (!pid) continue;
              if (val && typeof val === "object") {
                const p = _asNumber(_pick(val, ["price", "retail_price", "retail", "unit_price"]));
                const w = _asNumber(_pick(val, ["wholesale_price", "wholesale", "wh_price"]));
                if (p !== null || w !== null) PLATINUM_OVERRIDES.set(String(pid), { price: p, wholesale_price: w });
              } else {
                const p = _asNumber(val);
                if (p !== null) PLATINUM_OVERRIDES.set(String(pid), { price: p, wholesale_price: null });
              }
            }
            return; // loaded from profiles
          }
        } catch (_) {}
      }
  
      // 2) Try row-based tables (common patterns)
      const tablesToTry = ["platinum_prices", "customer_prices", "customer_product_prices", "custom_prices", "price_overrides", "pricing_overrides"];
      const userCols = ["user_id", "customer_id", "profile_id", "account_id"];
      const productCols = ["product_id", "product", "sku", "product_sku", "product_key", "product_code"];
      const priceCols = ["price", "retail_price", "retail", "unit_price"];
      const wholesaleCols = ["wholesale_price", "wholesale", "wh_price"];
  
      for (const table of tablesToTry) {
        for (const ucol of userCols) {
          try {
            const { data, error } = await sb.from(table).select("*").eq(ucol, userId).limit(1000);
            if (error || !Array.isArray(data) || data.length === 0) continue;
  
            for (const row of data) {
              const pid = _pick(row, productCols);
              if (!pid) continue;
              const p = _asNumber(_pick(row, priceCols));
              const w = _asNumber(_pick(row, wholesaleCols));
              if (p !== null || w !== null) PLATINUM_OVERRIDES.set(String(pid), { price: p, wholesale_price: w });
            }
  
            if (PLATINUM_OVERRIDES.size > 0) return;
          } catch (_) {}
        }
      }
    }
  
    function applyTierPricesToUI() {
    try {
      document.querySelectorAll(".product-card").forEach((card) => {
        const prices = getCardTieredPrices(card);
        const strongs = card.querySelectorAll(".prod-prices .price-chip strong");
        if (strongs && strongs.length >= 2) {
          strongs[0].textContent = `$${Number(prices.price).toFixed(2)}`;
          strongs[1].textContent = `$${Number(prices.wholesale_price).toFixed(2)}`;
        }
      });
    } catch (_) {}
  }

  async function loadCustomerTier() {
    try {
      const sb = window._supabase || window.supabaseClient || window.SupabaseClient || window.supabase;
      if (!sb?.auth) return;

      let user = null;
      if (sb.auth.getUser) {
        const { data, error } = await sb.auth.getUser();
        if (!error) user = data?.user || null;
      }
      if (!user && sb.auth.getSession) {
        const { data, error } = await sb.auth.getSession();
        if (!error) user = data?.session?.user || null;
      }
      if (!user?.id) {
        CURRENT_TIER = "standard";
        applyTierPricesToUI();
        return;
      }

      const { data: prof, error: pErr } = await sb
        .from("profiles")
        .select("tier")
        .eq("id", user.id)
        .maybeSingle();

      if (pErr) {
        CURRENT_TIER = "standard";
      } else {
        CURRENT_TIER = normalizeTier(prof?.tier);
      }

      // If Platinum, load per-customer overrides before applying prices
      if (CURRENT_TIER === "platinum") {
        try { await loadPlatinumOverrides(user.id); } catch (_) {}
      }

      applyTierPricesToUI();
    } catch (_) {
      CURRENT_TIER = "standard";
      applyTierPricesToUI();
    }
  }

  // Update tier prices when login state changes
  (async () => {
    try {
      const sb = window._supabase || window.supabaseClient || window.SupabaseClient || window.supabase;
      if (sb?.auth?.onAuthStateChange) {
        sb.auth.onAuthStateChange(() => {
          loadCustomerTier();
        });
      }
    } catch (_) {}
  })();

  // NEW: Read cart count from server when the page opens (no change to add-to-cart logic)
  async function refreshCartCountFromServer() {
    try {
      const token = await getAccessToken();
      if (!token) { setCartCount(0); return; }
      // cart-count -> expects {count} or {cart_count}
 -> expects {count} or {cart_count}
      try {
        const r = await fetch(CART_COUNT_URL, {
          method: "GET",
          headers: {
            "apikey": SUPABASE_ANON_KEY,
            "Authorization": `Bearer ${token}`,
          },
        });
        if (r.ok) {
          const t = await r.text();
          let data = null;
          try { data = JSON.parse(t); } catch (_) { data = null; }
          const c = data?.cart_count ?? data?.count ?? (typeof data === "number" ? data : null);
          if (c !== null && c !== undefined) { setCartCount(c); return; }
        }
      } catch (_) {}
    } catch (_) {}
  }


  function showCartError(msg) {
    // Try to reuse an existing message area if present; otherwise alert
    const el = document.getElementById("cartError") || document.querySelector(".cart-error");
    if (el) {
      el.textContent = msg;
      el.style.display = "block";
    } else {
      alert(msg);
    }
  }

  document.addEventListener("click", async (e) => {
    const btn = e.target.closest(".btn-add");
    if (!btn) return;

    e.preventDefault();

    const card = btn.closest(".product-card");
    if (!card) return;

    const qtyInput = card.querySelector(".qty-input");
    const qty = Math.max(1, parseInt(qtyInput?.value || "1", 10) || 1);

    const productId = card.dataset.id || card.getAttribute("data-id") || "";
    const productName = card.dataset.name || card.getAttribute("data-name") || "";
    const productType = card.dataset.type || card.getAttribute("data-type") || "";
const { price, wholesale_price } = getCardTieredPrices(card);


    const token = await getAccessToken();
    if (!token) {
      showCartError("Please sign in to add items to cart.");
      window.location.href = "login.html";
      return;
    }

    const oldText = btn.textContent;
    btn.disabled = true;
    btn.textContent = "Adding...";

    try {
      const resp = await fetch(CART_ADD_URL, {
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "apikey": SUPABASE_ANON_KEY,
          "Authorization": `Bearer ${token}`,
        },
        body: JSON.stringify({
          product_id: productId,
          product_name: productName,
          product_type: productType,
          qty,
          price,
 	wholesale_price,
        }),
      });

      const text = await resp.text();
      let data = null;
      try { data = JSON.parse(text); } catch (_) { data = { raw: text }; }

      if (!resp.ok || data?.ok === false) {
        const msg = data?.error || data?.message || text || "Failed to add to cart";
        showCartError(msg);
        return;
      }

      // Update cart count if server returns it
      const count = data?.cart_count ?? data?.count ?? null;
      if (count !== null) setCartCount(count);
    } catch (err) {
      showCartError(String(err?.message || err));
    } finally {
      btn.disabled = false;
      btn.textContent = oldText;
    }
  });

  // NEW: load cart count + tier pricing from server on page open
  if (document.readyState === "loading") {
    document.addEventListener("DOMContentLoaded", () => {
      refreshCartCountFromServer();
      loadCustomerTier();
    });
  } else {
    refreshCartCountFromServer();
    loadCustomerTier();
  }

  // Keep existing count if already set; otherwise show 0
  if (cartCountEl && !cartCountEl.textContent.trim()) setCartCount(0);
})();
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const cartBtn = document.getElementById("openCartBtn");
  if (!cartBtn) return;

  cartBtn.addEventListener("click", () => {
    window.location.href = "cart.html";
  });
});
</script>


</body>
</html>
